# ç”µå­ä¹¦åŸå‰ç«¯

è¯¥ repo ä¸ºä¸Šæµ·äº¤é€šå¤§å­¦è¯¾ç¨‹â€œäº’è”ç½‘åº”ç”¨å¼€å‘æŠ€æœ¯(SE2321)â€ çš„å‰ç«¯ demo é¡¹ç›®ï¼Œä¾›åŒå­¦ä»¬å­¦ä¹ å‚è€ƒã€‚
æ¬¢è¿ç‚¹äº®âœ¨ï¼Œå‘è¡¨ä½ çš„ issue æˆ– prï¼Œä¸ºè¯¾ç¨‹å»ºè®¾è´¡çŒ®ä¸€ä»½åŠ›ã€‚å¦‚æœä½ æƒ³å‚ä¸é—®é¢˜ã€æŠ€æœ¯è®¨è®ºï¼Œæ¬¢è¿ä½¿ç”¨æœ¬ repo çš„[è®¨è®ºæ¨¡å—](https://github.com/Okabe-Rintarou-0/BookStore-Frontend/discussions)ã€‚

UI è®¾è®¡ä¸Šï¼Œåœ¨ä¸åˆ å‡åŸºæœ¬åŠŸèƒ½çš„å‰æä¸‹ï¼Œä¿è¯å°½å¯èƒ½çš„ç®€æ´æ˜äº†ã€‚é¡¹ç›®ä¸»è¦ä½¿ç”¨ `Ant Design` æ¡†æ¶ï¼Œè¯·å‚è€ƒ [Ant Design 5.0](https://ant-design.antgroup.com/index-cn) å­¦ä¹ å„ç±»ç»„ä»¶ä½¿ç”¨æ–¹æ³•ã€‚

<div align="center">
    <img src="images/login.png" style="width: 48%;">
    <img src="images/home.png" style="width: 48%; margin-right: 2%;">
</div>

<p align="center">
    <img align="center" src="https://img.shields.io/badge/node-21.x-blue">
    <img align="center" src="https://img.shields.io/badge/jdk-17-blue">
    <img align="center" src="https://img.shields.io/github/issues/Okabe-Rintarou-0/BookStore-Frontend" />
    <img align="center" src="https://img.shields.io/github/repo-size/Okabe-Rintarou-0/BookStore-Frontend" />
    <img align="center" src="https://img.shields.io/docker/image-size/923048992/frontend/latest" />
    <img align="center" src="https://img.shields.io/github/contributors/Okabe-Rintarou-0/BookStore-Frontend" />
    <img align="center" src="https://img.shields.io/github/stars/Okabe-Rintarou-0/BookStore-Frontend" /> 
</p>

å„ç±»æ–‡æ¡£ ğŸ‘‰ [æ–‡æ¡£ç´¢å¼•](./docs/README.md)ï¼Œ[è¯¾ç¨‹è¦æ±‚](./public/requirements.pdf)ï¼Œ[è¿›é˜¶æ•™ç¨‹](./advanced_tutorial/README.md)

## âš ï¸æ³¨æ„
<h3>
è¯·ä¸€å®šè¦åšå¥½ç‰ˆæœ¬ç®¡ç†ï¼Œæ¯ä¸€æ¬¡å°å˜æ›´éƒ½å¯ä»¥ç”¨ git commit ä¿å­˜ã€‚æ¯ä¸€æ¬¡å¤§å˜æ›´éƒ½å¯ä»¥ checkout å‡ºä¸€ä¸ªæ–°åˆ†æ”¯æ–¹ä¾¿éšæ—¶åˆ‡æ¢ã€‚æ¯å¹´éƒ½æœ‰å­¦ç”Ÿå› ä¸ºç­”è¾©æ—¶å‡ºç°é—®é¢˜æ— æ³•å›æ»šå†å²ä»£ç è€Œå¤±åˆ†ã€‚
</h3>

ä¸ºäº†ä¾¿äºåŒå­¦ä»¬ä¸“æ³¨å¼€å‘å‰ç«¯ï¼Œæˆ‘ä»¬æä¾›äº†åç«¯æœåŠ¡ã€‚ä½†æ˜¯ç”±äºä½ ä»¬æœ¬åœ°çš„å‰ç«¯ï¼ˆlocalhostï¼‰åˆ°æˆ‘ä»¬çš„è¿œç¨‹åç«¯å±äºæ˜¯è·¨ç«™è°ƒç”¨ï¼Œè¿™å°±ä¼šå¼•å‘è·¨ç«™ä¼ é€’ `Cookies` çš„é—®é¢˜ï¼š[Cookie Samesiteç®€æ](https://zhuanlan.zhihu.com/p/266282015)ã€‚`Chrome` æµè§ˆå™¨åœ¨ä¸éœ€è¦æ›´æ”¹åå¥½è®¾ç½®çš„æƒ…å†µä¸‹å°±èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œè€Œ `Edge` å’Œ `Safari` å¯¹ `SameSite` è¯†åˆ«è§£ææœ‰ä¸€å®šé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨èä½¿ç”¨ `Chrome`ã€‚

> éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒéƒ¨åˆ†SameSite=noneã€‚IOS 12 çš„ Safari ä»¥åŠè€ç‰ˆæœ¬çš„ä¸€äº› Chrome ä¼šæŠŠ SameSite=none è¯†åˆ«æˆ SameSite=Strictï¼Œæ‰€ä»¥æœåŠ¡ç«¯å¿…é¡»åœ¨ä¸‹å‘ Set-Cookie å“åº”å¤´æ—¶è¿›è¡Œ User-Agent æ£€æµ‹ï¼Œå¯¹è¿™äº›æµè§ˆå™¨ä¸ä¸‹å‘ SameSite=none å±æ€§ã€‚

ä¸Šé¢çš„é—®é¢˜ä½ æš‚æ—¶çœ‹ä¸æ‡‚ä¹Ÿä¸è¦ç´§ã€‚è¯·æ³¨æ„ï¼Œåç»­ä½ ä»¬åœ¨æœ¬åœ°è¿›è¡Œå¼€å‘çš„æ—¶å€™æ²¡æœ‰ä»»ä½•ï¼ˆä¸»æµçš„ï¼‰æµè§ˆå™¨é™åˆ¶ï¼Œåªä¸è¿‡æ¯ä¸€ç§æµè§ˆå™¨ UI ä¼šæœ‰äº›è®¸å˜åŒ–ã€‚ä½ ä»¬æœ¬åœ°å¼€å‘å‰åç«¯ä¹Ÿä¸ä¼šæœ‰è·¨ç«™é—®é¢˜ï¼ˆlocalhost:3000 -> localhost:8080ï¼‰ã€‚

## ä»€ä¹ˆæ˜¯å‰ç«¯

ä¸€ä¸ªæœ€ç®€å•çš„å‰åç«¯æ¶æ„å›¾ï¼š

![](./images/arch.png)

> å‰ç«¯ä¸€è¯æ˜¯æŒ‡ç”¨æˆ·å¯ä»¥ç›´æ¥ä¸ä¹‹äº¤äº’çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ï¼Œä¾‹å¦‚å¯¼èˆªèœå•ã€è®¾è®¡å…ƒç´ ã€æŒ‰é’®ã€å›¾åƒå’Œå›¾è¡¨ã€‚é‡‡ç”¨æŠ€æœ¯æœ¯è¯­ï¼Œç”¨æˆ·çœ‹åˆ°çš„å¸¦æœ‰å¤šä¸ª UI ç»„ä»¶çš„é¡µé¢æˆ–å±å¹•ç§°ä¸ºæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ã€‚â€”â€” [åº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„å‰ç«¯å’Œåç«¯ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://aws.amazon.com/cn/compare/the-difference-between-frontend-and-backend/)

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ ...
â”œâ”€â”€ Dockerfile          Docker é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ package-lock.json   è®°å½•å½“å‰å®‰è£…çš„ npm åŒ…çš„ç¡®åˆ‡ç‰ˆæœ¬
â”œâ”€â”€ package.json        åŒ…å«é¡¹ç›®çš„å…ƒæ•°æ®å’Œä¾èµ–é¡¹ä¿¡æ¯
â”œâ”€â”€ public              å­˜æ”¾é™æ€èµ„æºï¼Œå¦‚ HTML æ–‡ä»¶ã€å›¾ç‰‡ç­‰
â””â”€â”€ src                 åŒ…å«é¡¹ç›®çš„æºä»£ç 
    â”œâ”€â”€ App.js          é¡¹ç›®çš„æ ¹ç»„ä»¶
    â”œâ”€â”€ components      React ç»„ä»¶
    â”œâ”€â”€ css             css æ ·å¼æ–‡ä»¶
    â”œâ”€â”€ index.js        é¡¹ç›®çš„å…¥å£æ–‡ä»¶
    â”œâ”€â”€ lib             å·¥å…·å‡½æ•°ã€å·¥å…·ç±»
    â”œâ”€â”€ page            åŒ…å«ä¸åŒé¡µé¢çš„ç»„ä»¶ï¼Œå¦‚é¦–é¡µã€è´­ç‰©è½¦é¡µé¢
    â”œâ”€â”€ service         åç«¯äº¤äº’çš„æœåŠ¡æˆ– API è¯·æ±‚çš„ä»£ç 
    â””â”€â”€ utils           é€šç”¨çš„å·¥å…·å‡½æ•°æˆ–å¸®åŠ©å‡½æ•°
```

## IDE é€‰æ‹©

ä¸€èˆ¬è€Œè¨€å¼€å‘å‰ç«¯æ²¡æœ‰ä»€ä¹ˆâ€œéå®ƒä¸å¯â€çš„ IDEã€‚æˆ‘ä¸ªäººæ¨è `vscode`ï¼ˆé…åˆä¸€äº›æ’ä»¶, å¦‚ `EsLint`, `Es7+` å°±å·²ç»å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¼€å‘äº†ï¼‰ã€‚å¦‚æœä½ å¯¹ `jetbrains` å…¬å¸çš„äº§å“æœ‰æ‰§å¿µï¼Œé‚£ä¹ˆç”¨ `webstorm` ä¹‹ç±»çš„ä¹Ÿå¯ä»¥ã€‚

## ç¯å¢ƒé…ç½®

è¯·ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ [nodejs(21.x)](https://nodejs.org/en/download/current)ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ macOSï¼Œå»ºè®®ä½¿ç”¨ [Homebrew](https://brew.sh/) å®‰è£…ã€‚
å¦‚æœä½ å­¦è¿‡ python çš„è¯ï¼Œä½ åº”è¯¥æ¸…æ¥š pip æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åŒ…ç®¡ç†å™¨ã€‚ä¸å…¶ç±»ä¼¼ï¼Œä½ å¯ä»¥é€‰æ‹© `npm` æˆ–è€… `yarn` ä½œä¸º node çš„åŒ…ç®¡ç†å™¨ã€‚

é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œä½ å¯ä»¥è½»æ¾å¯åŠ¨å‰ç«¯é¡¹ç›®ï¼ˆæ¨èï¼‰ï¼š
```bash
# ä½¿ç”¨ npm
npm install && npm start

# ä½¿ç”¨ yarn
yarn install && yarn start
```

å¯¹äº `npm` ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ·˜å®æºã€è…¾è®¯æºæˆ–è€… [SJTUG é•œåƒæº](https://mirrors.sjtug.sjtu.edu.cn/docs/npm-registry)ï¼Œå…·ä½“æ¢æºå‘½ä»¤è¯·è‡ªè¡Œæ£€ç´¢ï¼Œæ¨èä½¿ç”¨ `nrm` å·¥å…·ç®¡ç†æºã€‚

`npm install` ä¸‹è½½é¡¹ç›®æ‰€éœ€çš„ä¾èµ–ï¼ˆåªéœ€æ‰§è¡Œä¸€æ¬¡å³å¯ï¼Œåç»­æ— éœ€å†æ‰§è¡Œï¼‰ï¼›`npm start` åˆ™ä¼šå¯åŠ¨å‰ç«¯é¡¹ç›®ã€‚ä¸ `Makefile` ç±»ä¼¼ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ `package.json` ä¸­å®šä¹‰è‡ªå·±çš„æŒ‡ä»¤ï¼ˆä½ å¯ä»¥ç”±æ­¤å‘ç° `npm start` æ˜¯å¦‚ä½•å¯åŠ¨é¡¹ç›®çš„ï¼‰ï¼š

```json
"scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
},
```

è¯·ç¡®ä¿è¿›å…¥ `package.json` æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åå†æ‰§è¡Œä¸Šè¿°å‘½ä»¤ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ä¼šå‘ç°å½“å‰ç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªåä¸º `node_modules` çš„ç›®å½•ï¼Œè¿™é‡Œé¢æ˜¯ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆé¡¹ç›®ä¾èµ–ï¼‰ã€‚å¯åŠ¨åï¼Œä½ å¯ä»¥åœ¨ http://localhost:3000 è®¿é—®å‰ç«¯ã€‚

å¦‚æœä½ å¸Œæœ›å¿«é€Ÿæ–°å»ºä¸€ä¸ª `React` é¡¹ç›®ï¼Œè¯·å‚è€ƒï¼š[create-react-app](https://create-react-app.dev/docs/getting-started) æˆ–è€… [vite](https://vitejs.dev/)ã€‚**æˆ‘ä»¬æ›´æ¨èå¤§å®¶ä½¿ç”¨åè€…**ã€‚

## éƒ¨ç½²æŒ‡å—

https://private-user-images.githubusercontent.com/58595459/307246663-287189a8-0767-4014-81d4-9b555ca407d7.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDAyNzQ4MzMsIm5iZiI6MTc0MDI3NDUzMywicGF0aCI6Ii81ODU5NTQ1OS8zMDcyNDY2NjMtMjg3MTg5YTgtMDc2Ny00MDE0LTgxZDQtOWI1NTVjYTQwN2Q3Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAyMjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMjIzVDAxMzUzM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQzMzQ3ZTU0NTMyODg2NWVlYWZlYTAyYzhkOTg2NWU4NDk3ZjA4OWM1YjdiZDk1MTFmYjc1NTQzYjA1Mjk3MDEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.qtcn2m09u3tw28RX5Wqg_WFj1NWH0WP5oG6UlfxVhAw

## åç«¯ API

æˆ‘ä»¬å¼€æºäº†å®Œæ•´çš„å‰ç«¯é¡¹ç›®ï¼Œä½†æ˜¯ä¸ºäº†é˜²æ­¢åŒå­¦ä»¬ç…§æŠ„åç«¯ä»£ç ï¼Œæ‰€ä»¥åªæä¾›äº†åç«¯ API åŠå…¶æ–‡æ¡£ï¼ˆä½ å¯ä»¥åœ¨å¯åŠ¨å‰ç«¯ååœ¨ http://localhost:3000/api-docs æŸ¥çœ‹æ–‡æ¡£ï¼‰ã€‚åç«¯ API é‡‡ç”¨ [RESTful](https://zhuanlan.zhihu.com/p/334809573) å½¢å¼ã€‚è¯·åœ¨ `.env` æ–‡ä»¶ä¸­ä¿®æ”¹ç¯å¢ƒå˜é‡ `REACT_APP_BASE_URL` çš„å€¼ä¸ºæˆ‘ä»¬æä¾›çš„åç«¯æœåŠ¡å™¨çš„ URLã€‚

å¦‚æœä½ æƒ³è°ƒè¯• APIï¼Œè¯·æŸ¥çœ‹[åç«¯ API ä½¿ç”¨æŒ‡å—](./docs/API_usage.md)ã€‚å¦‚æœä½ æƒ³åœ¨å‰ç«¯ä¸­è°ƒç”¨åç«¯ APIï¼Œè¯·å‚è€ƒï¼š[Sending a request with credentials included](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#sending_a_request_with_credentials_included) ç­‰æ–‡æ¡£ã€‚

å¦‚æœä½ ä½¿ç”¨ [vite](https://vitejs.dev) æ¥åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œéœ€è¦æ³¨æ„é¡¹ç›®æºä»£ç ä¹‹ä¸­
```javascript
export const BASEURL = process.env.REACT_APP_BASE_URL ?? 'http://localhost:8080';
```
æ˜¯è®¾ç½®äº†ä½¿ç”¨npmå¯åŠ¨æ—¶çš„ç¯å¢ƒå˜é‡ï¼Œä½ éœ€è¦å°†å…¶ä¿®æ”¹æˆï¼š
```javascript
export const BASEURL = import.meta.env.VITE_REACT_APP_BASE_URL ?? "http://localhost:8080";
```
çš„å½¢å¼ï¼Œå¹¶å°†æ‰€æœ‰åœ¨ `.env` ä¹‹ä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡åŠ ä¸Š `VITE_` å‰ç¼€ä»¥å‘ `vite` æ ‡è¯†ã€‚

è¯·æ³¨æ„ï¼Œå¦‚æœä½ å·²ç»å¯åŠ¨äº†å‰ç«¯é¡¹ç›®ï¼Œè¯·å…ˆ CTRL + C å¼ºåˆ¶ç»ˆæ­¢å‰ç«¯è¿›ç¨‹ï¼Œç„¶åå†æ¬¡é‡å¯ï¼Œä¿®æ”¹çš„ç¯å¢ƒå˜é‡æ‰ä¼šç”Ÿæ•ˆã€‚åœ¨æ ¡å¤–çš„åŒå­¦å¯èƒ½éœ€è¦å¼€å¯ [SJTUvpn](https://net.sjtu.edu.cn/wlfw/VPN.htm) æ‰èƒ½æ­£å¸¸è®¿é—®åç«¯ã€‚

æˆ‘ä»¬æš‚æ—¶ä¸æä¾›æ³¨å†ŒåŠŸèƒ½ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç»™å®šçš„è´¦å·å¯†ç ç™»å½•ï¼Œå¹¶æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ä¿®æ”¹å¯†ç ï¼š

![](images/change_password.png)

## å­¦ä¹ æŒ‡å—
æœ¬è¯¾ç¨‹ä¸»è¦å­¦ä¹  `React` æ¡†æ¶ï¼Œå­¦æœ‰ä½™åŠ›çš„åŒå­¦ä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹ `Vue`ã€‚å¦‚æœä½ æ„Ÿå…´è¶£ï¼Œè¿™è¾¹ä¹Ÿæä¾›äº† `Vue` ç‰ˆæœ¬ä»¥ä¾›å‚è€ƒï¼š[BookStore-Frontend-Vue](https://github.com/Okabe-Rintarou-0/BookStore-Frontend-Vue) ã€‚

### å‡½æ•°å¼ç»„ä»¶
React ä½¿ç”¨ JSX æ¥å®šä¹‰ç»„ä»¶ï¼Œæ”¯æŒä¸¤ç§æ–¹å¼ï¼šç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶ã€‚ç”±äºä¾¿åˆ©æ€§ï¼Œç°åœ¨å¤§å®¶å€¾å‘äºä½¿ç”¨åè€…è¿›è¡Œå¼€å‘ã€‚å‡½æ•°å¼ç»„ä»¶æœ€ä»¤äººå¤´ç–¼çš„å°±æ˜¯å„ç§ hooksï¼ˆé’©å­å‡½æ•°ï¼‰ã€‚æ‰€ä»¥å­¦ä¼šå„ç§ hooks çš„ç”¨æ³•æ˜¯å­¦å¥½ React çš„å…³é”®ã€‚

+ [useState](https://legacy.reactjs.org/docs/hooks-state.html): 
  
    State æ˜¯ React ä¸­æœ€æ ¸å¿ƒçš„ç†å¿µã€‚å½“ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼ŒReact ä¼šå¯¹å…¶è¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚å½“æˆ‘ä»¬å¸Œæœ›è¿›è¡Œ**äº¤äº’**ï¼Œæˆ–è€…æ˜¯æ¸²æŸ“**åŠ¨æ€**ç»„ä»¶ï¼Œæˆ‘ä»¬å°±ä¼šç”¨åˆ°çŠ¶æ€ã€‚useState ä¼šè¿”å›ä¸€ä¸ª**å…ƒç»„**ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯çŠ¶æ€å˜é‡ã€‚ç¬¬äºŒä¸ªåˆ™æ˜¯è®¾ç½®è¯¥çŠ¶æ€å˜é‡çš„å‡½æ•°ï¼ˆè¯¦è§é“¾æ¥ï¼‰ã€‚

    å¸¸è§è¯¯åŒºï¼š
    + Qï¼šä¸ºä»€ä¹ˆæˆ‘ä¿®æ”¹äº†çŠ¶æ€ï¼Œä½†æ˜¯é¡µé¢æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Ÿ
        ```javascript
        const [count, setCount] = useState(1);
        return <>
            <button onClick={()=>{count+=1;}}>Increase</button>
            <p>Count: {count}</p>
        </>
        ```
        Aï¼šåªæœ‰é€šè¿‡ setCount å‡½æ•°ä¿®æ”¹å˜é‡æ‰ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ã€‚
    + Qï¼šæˆ‘æ˜æ˜ç”¨äº† set å‡½æ•°ï¼Œä¸ºä»€ä¹ˆä¾ç„¶æ²¡æœ‰æ¸²æŸ“ï¼Ÿ
        ```javascript
        const [tags, setTags] = useState([]);
        return <>
            <button onClick={()=>{
                tags.push("tag");
                setTags(tags);
            }}>Add tag</button>
            {tags.map(tag => (<p>{tag}</p>))}
        </>
        ```
        Aï¼štags çš„åœ°å€æ²¡æœ‰æ”¹å˜ï¼ˆæ•°ç»„å’Œå¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹ï¼‰ï¼Œæ‰€ä»¥ React è®¤ä¸ºå®ƒæ²¡æœ‰è¢«ä¿®æ”¹ã€‚
        æ­£ç¡®åšæ³•ï¼š
        
        ```javascript
        setTags([...tags, "tag"]);
        ```
+ [useEffect](https://legacy.reactjs.org/docs/hooks-effect.html)ï¼šæä¾›ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€åœ¨ä¾èµ–é¡¹ä¿®æ”¹æ—¶è§¦å‘ã€‚
  
    å¦‚æœä½ å¸Œæœ›åœ¨ç»„ä»¶æŒ‚è½½ä¹‹ååšä¸€äº›äº‹æƒ…ï¼ˆä¾‹å¦‚åˆå§‹åŒ–å·¥ä½œï¼‰ï¼Œä½ å¯ä»¥å°†ç¬¬äºŒä¸ªå‚æ•°ä¾èµ–é¡¹è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼Œè¿™æ ·å°±ç­‰åŒäºç±»ç»„ä»¶çš„ `componentDidMount` ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚
    ```javascript
    useEffect(()=>{
        // do something here
    }, []);
    ```
    > If you want to run an effect and clean it up only once (on mount and unmount), you can pass an empty array ([]) as a second argument. This tells React that your effect doesnâ€™t depend on any values from props or state, so it never needs to re-run. This isnâ€™t handled as a special case â€” it follows directly from how the dependencies array always works.

    å¦‚æœä½ å¸Œæœ›ç›‘è§†æŸäº›å€¼çš„å˜åŒ–ï¼Œé‚£å°±åŠ å…¥åˆ°ä¾èµ–é¡¹ä¸­ï¼ˆè¿™ä¸€åŠŸèƒ½éå¸¸é‡è¦ï¼Œä½ å¯ä»¥ä»é“¾æ¥ä¸­çš„ä¾‹å­çœ‹åˆ°è¿™ä¸€ç‚¹ï¼‰ï¼š
    ```javascript
    useEffect(() => {
        // do something when someVar changes
    }, [someVar]);
    ```
    

    ä½ å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ç”¨äºè¿›è¡Œç»„ä»¶ unmount æ—¶çš„é¢å¤–å¤„ç†ã€‚
    ```javascript
    useEffect(() => {
        return () => {
            // do some cleanup here
        };
    });
    ```

    å¸¸è§è¯¯åŒºï¼š
    + æ­»å¾ªç¯ï¼š
        ä»¥ä¸‹ä»£ç å°†äº§ç”Ÿæ­»å¾ªç¯ï¼Œè¯·æ³¨æ„ä¾èµ–æ˜¯å¦æ­£ç¡®ä½¿ç”¨ã€‚
        ```javascript
        useEffect(() => {
            setSomeVar(newValue);
        }, [someVar]);
        ```
        åœ¨æ²¡æœ‰ä¾èµ–æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åœ¨ useEffect ä¸­ä¿®æ”¹çŠ¶æ€ï¼Œå°±ä¼šè§¦å‘å†æ¬¡æ¸²æŸ“ï¼ŒuseEffect åˆä¼šè¢«è°ƒç”¨ï¼Œå½¢æˆæ­»å¾ªç¯ã€‚
        ```javascript
        useEffect(() => {
            setSomeVar(newValue);
        });
        ```
+ [useRef](https://zh-hans.react.dev/reference/react/useRef)ï¼šå¸®åŠ©å¼•ç”¨ä¸€ä¸ªä¸éœ€è¦æ¸²æŸ“çš„å€¼ï¼Œè§é“¾æ¥ä»‹ç»ã€‚
+ [useMemo](https://zh-hans.react.dev/reference/react/useMemo)ï¼šåœ¨æ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™èƒ½å¤Ÿç¼“å­˜è®¡ç®—çš„ç»“æœï¼Œè§é“¾æ¥ä»‹ç»ã€‚
+ [useLocation](https://reactrouter.com/en/main/hooks/use-location)ï¼šè·å–å‰ç«¯å½“å‰ URL.
+ [useSearchParams](https://reactrouter.com/en/main/hooks/use-search-params)ï¼šè·å– URL query å‚æ•°ã€‚
+ [useNavigate](https://reactrouter.com/en/main/hooks/use-navigate)ï¼šç”¨äºè¿›è¡Œé¡µé¢è·³è½¬ã€‚
+ [useParams](https://reactrouter.com/en/main/hooks/use-params)ï¼šè·å– URL è·¯å¾„å‚æ•°ï¼ˆä¾‹å¦‚ "/path/:id"ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–è¯¥å‚æ•°ï¼‰
    
    ```javascript
    const {id} = useParams(); 
    ```

### å¼‚æ­¥å‡½æ•°

å¼‚æ­¥å‡½æ•°ä¹Ÿæ˜¯ä¸€å¤§é‡ç‚¹ï¼Œå»ºè®®å¤§å®¶å­¦ä¹ å¥½ä¸¤ç§æ–¹å¼ï¼š**å›è°ƒå‡½æ•°** å’Œ **await** æ–¹å¼ï¼Œæœ¬é¡¹ç›®å‡é‡‡ç”¨åè€…ï¼Œé¿å…è¿‡å¤šå›è°ƒå‡½æ•°äº§ç”Ÿä¸ç¾è§‚å’Œâ€œå›è°ƒåœ°ç‹±â€ã€‚
å¯ä»¥å‚è€ƒï¼š

+ [ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹±ï¼Œå¦‚ä½•ç”¨Promiseè§£å†³å›è°ƒåœ°ç‹±ï¼Œçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†ã€‚](https://juejin.cn/post/7108187709076111367)

### é—­åŒ…é™·é˜±

å½“ä½ åœ¨ç®­å¤´å‡½æ•°ä¸­å‘ç°ä¸€ä¸ªå˜é‡æ€ä¹ˆæ ·éƒ½æ‹¿ä¸åˆ°æœ€æ–°çš„å€¼çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½æ˜¯å› ä¸ºä½ é‡åˆ°äº†â€œé—­åŒ…é™·é˜±â€ã€‚
è¯·å‚è€ƒï¼š[ä¸€æ–‡è®²é€ React Hooks é—­åŒ…é™·é˜±](https://juejin.cn/post/7230819482012237861)

è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ [useRef](https://zh-hans.react.dev/reference/react/useRef)ã€‚

### é¿å… CSS å†²çª
è¯·å‚è€ƒï¼š[react ä¸­ css modules-åŸºæœ¬ä½¿ç”¨](https://juejin.cn/post/7031528538209681444)

### ä¾èµ–æ·»åŠ 

è§[ä¾èµ–æ·»åŠ æŒ‡å—](./docs/add_deps.md)ã€‚

### å…»æˆè‰¯å¥½çš„ä¹ æƒ¯

+ javascript é‡Œé¢åˆ¤æ–­å˜é‡ç›¸ç­‰åº”è¯¥ç”¨ `===`ã€‚
+ å¯¹äºåˆ—è¡¨ç»„ä»¶ï¼Œæ¯ä¸€é¡¹éƒ½éœ€è¦ `key` å±æ€§ï¼š[åˆ—è¡¨ & Key](https://zh-hans.legacy.reactjs.org/docs/lists-and-keys.html) ã€‚`key` å±æ€§å¾ˆé‡è¦ï¼ŒReact åˆ©ç”¨ key æ¥è¯†åˆ«ç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ç§èº«ä»½æ ‡è¯†æ ‡è¯†ï¼Œå°±åƒæˆ‘ä»¬çš„èº«ä»½è¯ç”¨æ¥è¾¨è¯†ä¸€ä¸ªäººä¸€æ ·ã€‚æ¯ä¸ª key å¯¹åº”ä¸€ä¸ªç»„ä»¶ï¼Œç›¸åŒçš„ key ä¼šè¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªç»„ä»¶ï¼Œè¿™æ ·åç»­ç›¸åŒçš„ key å¯¹åº”ç»„ä»¶éƒ½ä¸ä¼šè¢«é‡æ–°åˆ›å»ºã€‚
+ å–„ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼šæ§åˆ¶å°ã€ç½‘ç»œã€[React Developer Devtools æ’ä»¶](https://chromewebstore.google.com/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi)ã€[React Query Devtools](https://tanstack.com/query/latest/docs/framework/react/devtools)...
+ éœ€è¦å¤ç”¨ã€è¾ƒå¤æ‚çš„ç»„ä»¶åº”è¿›è¡Œå°è£…ï¼Œé¿å…åµŒå¥—è¿‡æ·±ã€é‡å¤ç¼–ç ã€‚
+ å­¦ä¼š Mockï¼š[ã€Œå‰ç«¯è¯¥å¦‚ä½•ä¼˜é›…åœ°Mockæ•°æ®ğŸƒã€æ¯ä¸ªå‰ç«¯éƒ½åº”è¯¥å­¦ä¼šçš„æŠ€å·§](https://segmentfault.com/a/1190000041457114)

## Tricks

+ å­—ç¬¦ä¸²æ ¼å¼åŒ–

    ```javascript
    const num = 123;
    const str = `number is ${num}`;
    ```

    è¿™å°†äº§ç”Ÿå­—ç¬¦ä¸²"number is 123"ã€‚

+ ç®€æ´çš„æ¡ä»¶æ¸²æŸ“
  
    ```javascript
    {shouldShow && <SomeComponent/>}
    ```
    `shouldShow` æ˜¯ä¸€ä¸ª bool ç±»å‹çš„å˜é‡ï¼Œå½“ä¸”ä»…å½“å…¶ä¸ºçœŸï¼Œæ¸²æŸ“åé¢çš„ç»„ä»¶ã€‚è¿™ç§å†™æ³•æœ€ä¸ºç®€æ´ï¼Œä¹Ÿä¸å¤±å¯è¯»æ€§ã€‚

+ æå–å¯¹è±¡å­—æ®µ

    ```javascript
    const person = {"name": "Bob", "age": 12}
    // å¯ä»¥å–åˆ«å
    const {
        name: nameAlias,
        age
    } = person;
    ```

+ bool ç±»å‹çš„ç»„ä»¶å±æ€§å¯ä»¥ç®€å†™
    ```javascript
    // case 1
    <Modal open />
    // equals to
    <Modal open={true} />
    
    // case 2
    <Modal />
    // equals to
    <Modal open={false} />
    ```

+ ä¾¿æ·çš„å‡½æ•°å¼ç¼–ç¨‹
  
    åŸºæœ¬ä¸Šå‡½æ•°å¼éƒ½ä¼šæ”¯æŒ `map`ã€`filter` å’Œ `reduce` æ“ä½œã€‚ä¸‹é¢çš„ä»£ç å°†äº§ç”Ÿä¸€ç³»åˆ—ç»„ä»¶ã€‚
    ```javascript
    function ArrayComponents({ array }) {
        return array.map(item => <div>{item}</div>);
    }    
    <ArrayComponents array={[1, 2, 3]}/>
    ```

    è¿™ä¸‰ç§å‡½æ•°éå¸¸å¸¸ç”¨ï¼Œå°¤å…¶æ˜¯ `map`ï¼Œè¯·ç†Ÿç»ƒæŒæ¡å…¶ç”¨æ³•ï¼Œå¢åŠ ç¼–ç¨‹æ•ˆç‡ã€‚

+ ç®­å¤´å‡½æ•°

    åŸºæœ¬ä¸Šå¯ä»¥å®Œç¾ä»£æ›¿ `function`ï¼Œç¼–ç æ–¹ä¾¿ï¼ˆè¿˜æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ä¸å®¹æ˜“å‡ºç°thisæŒ‡é’ˆç›¸å…³çš„é—®é¢˜ï¼‰ã€‚æ³¨æ„è¿”å›ç±»å‹å¦‚æœæ˜¯å¦‚ä¸‹å½¢å¼ï¼ˆè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå› ä¸ºJSXè¯­æ³•å¯¹`{}`çš„è§£é‡Šæœ‰å‡½æ•°ä½“å’Œå¯¹è±¡çš„äºŒä¹‰æ€§ï¼‰è¯·åŠ æ‹¬å·ä»¥æ ‡è¯†è¿”å›ä¸ºå¯¹è±¡ï¼š

    ```javascript
    let func = book => ({
        id: book.id,
        title: book.title
    });
    ```

    æ­£å¦‚ä¸Šè¿°ä¾‹å­æ‰€ç¤ºï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹å‚æ•°å¯ä»¥ä¸åŠ æ‹¬å·ã€‚
+ Javascript ä¸­çš„ `?` è¿ç®—ç¬¦

    ```javascript
    const func = (obj) => {
        console.log(obj?.id);
    };

    func({id: 1});   // è¾“å‡º 1
    func(null);      // è¾“å‡º undefined
    func([]);        // è¾“å‡º undefined
    func(undefined); // è¾“å‡º undefined

    // è°ƒç”¨å‡½æ•°
    let handleFunc = null;
    handleFunc();    // æŠ¥é”™ï¼šUncaught TypeError: handleFunc is not a function
    handleFunc?.();  // æ— æŠ¥é”™ä¸”æ— ä»»ä½•æ•ˆæœ

    handleFunc = () => {
        console.log("HELLO WORLD!");
    };
    handleFunc?.(); // æ— æŠ¥é”™ä¸”å‡½æ•°è¢«æ‰§è¡Œï¼Œè¾“å‡º HELLO WORLD!

    // æ”¯æŒé“¾å¼
    let someAttr = obj?.nested?.attr;
    ```

+ Javascript ä¸­çš„ `??` è¿ç®—ç¬¦

    ä½œç”¨ï¼š
    + å½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º `null` æˆ– `undefined` æ—¶ï¼Œè¿”å›å³ä¾§çš„æ“ä½œæ•°ã€‚
    + å¦åˆ™ï¼Œè¿”å›å·¦ä¾§çš„æ“ä½œæ•°ã€‚
    
    è¯·æ˜ç¡®å…¶ä¸ `&&` æ•ˆæœçš„å·®å¼‚ï¼š
    + å½“å·¦ä¾§å’Œå³ä¾§çš„æ“ä½œæ•°éƒ½ä¸ºçœŸæ—¶ï¼Œè¿”å›å³ä¾§çš„æ“ä½œæ•°ã€‚
    + å¦åˆ™ï¼Œè¿”å›å·¦ä¾§çš„æ“ä½œæ•°ã€‚

    ```javascript
    let NULL = null;
    let UNDEFINED = undefined;
    let STRING = "Hello World!";
    let STRING2 = "I Like React!";

    console.log(NULL ?? STRING);      // è¾“å‡º Hello World!
    console.log(UNDEFINED ?? STRING); // è¾“å‡º Hello World!
    console.log(STRING ?? STRING2);   // è¾“å‡º Hello World!
    console.log(STRING2 ?? STRING);   // è¾“å‡º I Like React!

    
    console.log(NULL && STRING);      // è¾“å‡º null
    console.log(UNDEFINED && STRING); // è¾“å‡º undefined
    console.log(STRING && STRING2);   // è¾“å‡º I Like React!
    console.log(STRING2 && STRING);   // è¾“å‡º Hello World!
    ```

+ Javascript ä¸­çš„ `...` è¿ç®—ç¬¦

    ä½œç”¨åœ¨æ•°ç»„ä¸Šå°±æ˜¯å°†æ•°ç»„å±•å¼€ï¼š

    ```javascript
    let array = [1, 2, 3];
    let newArray = [...array, 4]; // [1, 2, 3, 4]
    ```

    ä½œç”¨åœ¨å¯¹è±¡ä¸Šï¼š
    ```javascript
    let obj = {
        id: "1"
    };
    let newObj = {
        ...obj,
        name: "object"
    };
    ```
    ç­‰ä»·äºï¼š
    ```javascript
    let newObj = {
        id: "1",
        name: "object"
    };
    ```
    é¡ºå¸¦ä¸€æï¼Œå¦‚æœå˜é‡å’Œå¯¹è±¡çš„ key åå­—ç›¸åŒï¼Œåˆ™å¯ä»¥ç®€åŒ–èµ‹å€¼è¡¨è¾¾ï¼š
    ```javascript
    let book = {
        title: "chiikawa"
    };
    let title = "chiikawa2";
    book = {
        title
    };
    ```

## æ’ä»¶æ¨è

+ [React1s](https://chromewebstore.google.com/detail/gpcoahaomdfmekggblkckofkgjggnjlp): ç‚¹å‡»é¡µé¢å…ƒç´ è·³è½¬åˆ°ç¼–è¾‘å™¨ã€‚

## ä¸€äº›ç¤ºä¾‹
+ [è·å–è¾“å…¥ç»„ä»¶çš„å€¼](https://codesandbox.io/p/sandbox/example-1-monitor-input-value-w873x6?file=%2Fsrc%2FApp.js)
+ [ä½¿ç”¨ React Context](https://codesandbox.io/p/sandbox/example-2-context-cwltjm)
+ [åœ¨ React ä¸­å¼•å…¥å›¾ç‰‡](https://codesandbox.io/p/sandbox/example-3-image-import-gw2h7w?file=%2Fsrc%2FApp.tsx%3A28%2C14-36%2C13)

## è¿›é˜¶

+ ä½¿ç”¨ Typescript ä»£æ›¿ Javascriptã€‚
+ ä½¿ç”¨ [useSWR](https://swr.vercel.app/zh-CN) / [React Query](https://cangsdarm.github.io/react-query-web-i18n/react/getstarted/quick-start/) + [axios](https://www.npmjs.com/package//axios) ä»£æ›¿ `fetch` æ–¹æ¡ˆï¼›
+ ä½¿ç”¨ [React.createContext](https://zh-hans.react.dev/reference/react/createContext) ReactåŸç”Ÿæ–¹æ³•ï¼Œæˆ–è€… [Redux](https://cn.redux.js.org/)ã€[Zustand](https://docs.pmnd.rs/zustand/getting-started/introduction#first-create-a-store) ç­‰å…¨å±€çŠ¶æ€ç®¡ç†å™¨æ›´æ–¹ä¾¿åœ°ä¼ é€’ä¸Šä¸‹æ–‡ã€‚ï¼ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¿™äº›ï¼Ÿäº†è§£Reactå¼€å‘ä¹‹ä¸­çš„ [Props Drilling](https://www.geeksforgeeks.org/what-is-prop-drilling-and-how-to-avoid-it/) é—®é¢˜ï¼‰

## è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹ç”¨æˆ·ä¸ºæœ¬ä»“åº“åšå‡ºçš„è´¡çŒ®ï¼š

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/Ayanami1314" style="display:inline-block;width:80px">
        <img src="https://github.com/Ayanami1314.png" width="64px;" alt="Ayanami1314"/><br/>
        <sub><b>Ayanami1314</b></sub>
      </a>
    </td>
  </tr>
</table>

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=Okabe-Rintarou-0/BookStore-Frontend&type=Date)](https://star-history.com/#Okabe-Rintarou-0/BookStore-Frontend&Date)
