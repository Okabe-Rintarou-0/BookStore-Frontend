# 数据库安装指南（使用 docker）

本指南将引导你使用 Docker 安装 MySQL。

## 使用 Docker 安装 MySQL

你可以将 Docker 容器理解为一个相对隔离的运行时。每一个 Docker 容器都需要一个镜像，镜像本质上是多层堆叠的文件，可以以 overlayfs 的方式挂载到宿主机。所以，镜像可以包含各种已经配置好的环境，用户只需指定所需的镜像，并启动容器，即可免去配置环境的痛苦。

你可以使用下面的指令来启动 MySQL：

```shell
docker run -d -p 3306:3306 --name mysql \
-e MYSQL_ROOT_PASSWORD=123456 \
mysql:latest
```

+ `docker run` 表示运行容器（首先会拉取镜像）；
+ `-d` 即 `daemon`，在后台运行；
+ `-p 3306:3306` 将容器 3306 端口映射到宿主机 3306 端口；
+ `--name` 指定容器的名称；
+ `-e MYSQL_ROOT_PASSWORD=123456`，`-e` 即指定环境变量，此处通过环境变量指定 MySQL root 用户的密码；
+ `mysql:latest` 镜像名称，由 `name:tag` 这样的格式组成。若只指定了 `name`，则默认拉取最新的。

注意，此处使用了默认的桥接(bridge)网络模式，即在宿主机网络和容器网络之间通过网桥通信。为了保证我们可以通过 `localhost:3306` 访问 MySQL，此处我们通过 `-p` 标志进行端口映射。如果你采用 `host` 网络模式，则可以免去 `-p` 标志，因为容器将和宿主机共享网络命名空间，直接在宿主机网络命名空间 3306 端口启动。你也采用其他容器的网络命名空间，但是此处暂时无必要，你在后续使用 `docker-compose` 部署多容器的时候可能会遇到该需求。
